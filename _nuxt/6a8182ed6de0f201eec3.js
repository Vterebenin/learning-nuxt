(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{212:function(e,t,r){e.exports=r.p+"img/9a6b7b1.png"},216:function(e,t,r){"use strict";r.r(t);r(61);var n={head:function(){return{title:"Add Recipe"}},data:function(){return{recipe:{name:"",picture:"",ingredients:"",difficulty:"",prep_time:null,prep_guide:""},preview:""}},methods:{onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&(this.recipe.picture=t[0],this.createImage(t[0]))},createImage:function(e){var t=new FileReader,r=this;t.onload=function(e){r.preview=e.target.result},t.readAsDataURL(e)},submitRecipe:function(){var e,t,data;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:for(data in e={headers:{"content-type":"multipart/form-data"}},t=new FormData,this.recipe)t.append(data,this.recipe[data]);return r.prev=3,r.next=6,regeneratorRuntime.awrap(this.$axios.$post("/recipes/",t,e));case 6:r.sent,this.$router.push("/recipes/"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(3),console.log(r.t0);case 13:case"end":return r.stop()}}),null,this,[[3,10]])}}},o=r(42),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"container my-5"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 text-center my-3"},[n("h2",{staticClass:"mb-3 display-4 text-uppercase"},[e._v(e._s(e.recipe.name))])]),e._v(" "),n("div",{staticClass:"col-md-6 mb-4"},[e.preview?n("img",{staticClass:"img-fluid",staticStyle:{width:"400px","border-radius":"10px","box-shadow":"0 1rem 1rem rgba(0,0,0,.7)"},attrs:{src:e.preview,alt:""}}):n("img",{staticClass:"img-fluid",staticStyle:{width:"400px","border-radius":"10px","box-shadow":"0 1rem 1rem rgba(0,0,0,.7)"},attrs:{src:r(212)}})]),e._v(" "),n("div",{staticClass:"col-md-4"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.submitRecipe(t)}}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[e._v("Название рецепта")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.name,expression:"recipe.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.recipe.name},on:{input:function(t){t.target.composing||e.$set(e.recipe,"name",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[e._v("Ингридиенты")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.ingredients,expression:"recipe.ingredients"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.recipe.ingredients},on:{input:function(t){t.target.composing||e.$set(e.recipe,"ingredients",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[e._v("Фотография еды")]),e._v(" "),n("input",{attrs:{type:"file",name:"file"},on:{change:e.onFileChange}})]),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[e._v("Сложность")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.recipe.difficulty,expression:"recipe.difficulty"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.recipe,"difficulty",t.target.multiple?r:r[0])}}},[n("option",{attrs:{value:"Easy"}},[e._v("Легко")]),e._v(" "),n("option",{attrs:{value:"Medium"}},[e._v("Средне")]),e._v(" "),n("option",{attrs:{value:"Hard"}},[e._v("Тяжело")])])])]),e._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[e._m(0),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.prep_time,expression:"recipe.prep_time"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.recipe.prep_time},on:{input:function(t){t.target.composing||e.$set(e.recipe,"prep_time",t.target.value)}}})])])]),e._v(" "),n("div",{staticClass:"form-group mb-3"},[n("label",{attrs:{for:""}},[e._v("Рецепт приготовления")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.recipe.prep_guide,expression:"recipe.prep_guide"}],staticClass:"form-control",attrs:{rows:"8"},domProps:{value:e.recipe.prep_guide},on:{input:function(t){t.target.composing||e.$set(e.recipe,"prep_guide",t.target.value)}}})]),e._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Сохранить")])])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:""}},[this._v("\n                Время\n                "),t("small",[this._v("(в минутах)")])])}],!1,null,"2f4b025c",null);t.default=component.exports}}]);